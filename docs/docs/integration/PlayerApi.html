<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link
      rel="shortcut icon"
      href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown-light.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/github.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script src="../main.js"></script>
  </head>
  <body class="hidden">
    <div id="translateTest"></div>

    <div class="topbar">
      <div>v2.154.10</div>
      <div class="languages notranslate">
        <div class="lang" data-glang="ru">RU</div>
        <div class="lang" data-glang="en">EN</div>
      </div>
    </div>

    <div class="page markdown-body">
      <aside>
        <nav><h3 id="kinescope-player-version">Kinescope Player (v2.154.10)</h3>
<ul>
<li><a href="../index.html">Начало</a></li>
<li><a href="../embed/index.html">Встраивание плеера</a><ul>
<li><a href="../iframe/IframeRegular.html">Простое встраивание через &lt;iframe&gt;</a></li>
<li><a href="../iframe/IframeApi.html">Встраивание с помощью IFrame API (для разработчиков)</a><ul>
<li><a href="../iframe/IframePlayerFactory.html">Создание плеера</a></li>
<li><a href="../iframe/IframePlayerApi.html">Управление плеером</a></li>
<li><a href="../iframe/IframePlayerApiLoader.html">Загрузчик IFrame API и TypeScript типы</a><!-- - [Простое встраивание с помощью IFrame API без создания плеера](./iframe/IframePlayerFactory.auto.md) -->
  <!-- - [Widget (beta)](./widget.md) --></li>
</ul>
</li>
<li><a href="../elements/index.html">Пользовательские элементы (Custom Elements)</a><ul>
<li><a href="../elements/KinescopeIframePlayer.html">&lt;kinescope-iframe-player&gt;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="../optimization.html">Оптимизация, отложенная загрузка и автозапуск</a></li>
<li><a href="../playlists.html">Плейлисты</a></li>
<li><a href="../cta.html">CTA (beta)</a></li>
<li><a href="../ga.html">Google Analytics (beta)</a></li>
<li><a href="../CommonProblems.html">Возможные проблемы и их решения</a></li>
<li><a href="../CHANGELOG.html">Изменения</a></li>
<li><a href="../help.html"><strong>Помощь</strong></a></li>
</ul>
<!-- - [Поддерживаемые платформы](./SupportedPlatforms.md) -->
</nav>
      </aside>

      <div class="delimiter"></div>

      <main><h1 id="управление-плеером-1">Управление плеером</h1>
<p>Для управления плеером используется объект со следующими свойствами и методами:</p>
<h3 id="свойства-1">Свойства</h3>
<ul>
<li><p><strong><code>Events: PlayerApi.Events</code></strong></p>
<p><a href="#EventData">Перечисление событий плеера</a>.</p>
</li>
</ul>
<h3 id="методы-3">Методы</h3>
<ul>
<li><p><strong><code>on(type: PlayerApi.Events, listener: Function): this</code></strong> <a name="on"></a></p>
<p>Подписаться на <a href="#EventData">событие</a> плеера. См. <a href="#PlayerEvents">события плеера</a>.</p>
</li>
<li><p><strong><code>once(type: PlayerApi.Events, listener: Function): this</code></strong> <a name="once"></a></p>
<p>Подписаться на <a href="#EventData">событие</a> плеера. <a href="#PlayerEvents">Обработчик события</a> будет вызван только один раз.</p>
</li>
<li><p><strong><code>off(type: PlayerApi.Events, listener: Function): this</code></strong> <a name="off"></a></p>
<p>Отписаться от <a href="#EventData">события</a> плеера.</p>
</li>
<li><p><strong><code>isPaused(): Promise&lt;boolean&gt;</code></strong> <a name="isPaused"></a></p>
<p>Проигрывание приостановлено?</p>
</li>
<li><p><strong><code>isEnded(): Promise&lt;boolean&gt;</code></strong> <a name="isEnded"></a></p>
<p>Проигрывание дошло до конца?</p>
</li>
<li><p><strong><code>play(): Promise&lt;void&gt;</code></strong> <a name="play"></a></p>
<p>Начать проигрывание.</p>
</li>
<li><p><strong><code>pause(): Promise&lt;void&gt;</code></strong> <a name="pause"></a></p>
<p>Приостановить проигрывание.</p>
</li>
<li><p><strong><code>getCurrentTime(): Promise&lt;number&gt;</code></strong> <a name="getCurrentTime"></a></p>
<p>Текущее время воспроизведения (в секундах).</p>
</li>
<li><p><strong><code>getDuration(): Promise&lt;number&gt;</code></strong> <a name="getDuration"></a></p>
<p>Продолжительность ролика (в секундах).</p>
</li>
<li><p><strong><code>setPlaylistItemOptions(options: PlaylistItemOptions): Promise&lt;void&gt;</code></strong> <a name="setPlaylistItemOptions"></a></p>
<p>Установить параметры для текущего ролика.</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PlaylistItemOptions</span> {
  <span class="hljs-comment">/** <span class="hljs-doctag">@experimental</span> Закладки, привязанные ко времени. */</span>
  <span class="hljs-attr">bookmarks</span>?: {
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/** Время в секундах. */</span>
    <span class="hljs-attr">time</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-comment">/** Динамические стили с поддержкой селекторов. */</span>
    <span class="hljs-attr">sx</span>?: <span class="hljs-title class_">CSSProperties</span>;
  }[];
}
</code></pre><p>Например:</p>
<pre><code class="hljs language-ts">player.<span class="hljs-title function_">setPlaylistItemOptions</span>({
  <span class="hljs-attr">bookmarks</span>: [
    {
      <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;1&#x27;</span>,
      <span class="hljs-attr">time</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">sx</span>: { <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-string">&#x27;&amp;::before&#x27;</span>: { <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;&quot;12&quot;&#x27;</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;0.85em&#x27;</span> } },
    },
  ],
});
</code></pre></li>
<li><p><strong><code>setUIDisabled(disabled: boolean): Promise&lt;void&gt;</code></strong> <a name="setUIDisabled"></a></p>
<p>Disable/enable the player UI and shortcuts. <code>@experimental</code></p>
</li>
<li><p><strong><code>setOptions(options: UpdatablePlayerOptions): Promise&lt;void&gt;</code></strong> <a name="setOptions"></a></p>
<p>Установить параметры для плеера. <code>@experimental</code></p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">UpdatablePlayerOptions</span> {
  <span class="hljs-comment">/** <span class="hljs-doctag">@experimental</span> Настройки темы. */</span>
  <span class="hljs-attr">theme</span>?: {
    <span class="hljs-attr">bookmarks</span>?: {
      <span class="hljs-attr">button</span>?: {
        <span class="hljs-comment">/** Для кнопки в целом. */</span>
        <span class="hljs-attr">root</span>?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;
        <span class="hljs-comment">/** Для кнопки с css селектором :hover. */</span>
        <span class="hljs-attr">hover</span>?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;
        <span class="hljs-comment">/** Для кнопки с css селектором :active. */</span>
        <span class="hljs-attr">active</span>?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;
      };
      <span class="hljs-comment">/** Установить `undefined` для удаления значка. */</span>
      <span class="hljs-attr">icon</span>?: <span class="hljs-literal">undefined</span>;
    };
  };
}
</code></pre><p>Например:</p>
<pre><code class="hljs language-ts">player.<span class="hljs-title function_">setOptions</span>({
  <span class="hljs-attr">theme</span>: {
    <span class="hljs-attr">bookmarks</span>: {
      <span class="hljs-attr">button</span>: {
        <span class="hljs-attr">root</span>: { <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;yellow&#x27;</span> },
      },
      <span class="hljs-attr">icon</span>: <span class="hljs-literal">undefined</span>,
    },
  },
});
</code></pre></li>
</ul>
<h2 id="события-плеера-1">События плеера<a name="PlayerEvents"></a></h2>
<p>В каждый обработчик события передается <a href="#EventObject">объект события</a> с <a href="#EventData">данными</a> о нем.</p>
<h3 id="объект-события-1">Объект события<a name="EventObject"></a></h3>
<pre><code class="hljs language-ts">{
  <span class="hljs-comment">/** Тип события */</span>
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">PlayerApi</span>.<span class="hljs-property">Events</span>;
  <span class="hljs-comment">/** Данные события, зависят от типа события, могут отсутствовать */</span>
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">Data</span>;
  <span class="hljs-comment">/** Объект управления плеером, соответствующий событию */</span>
  <span class="hljs-attr">target</span>: <span class="hljs-title class_">PlayerApi</span>;
}
</code></pre><h3 id="перечисление-событий-1">Перечисление событий<a name="EventData"></a></h3>
<ul>
<li><p><strong><code>PlayerApi.Events.Ready</code></strong> <a name="Events.Ready"></a> - Плеер загрузил все необходимые данные и готов к воспроизведению.<br>При выключенной предзагрузке (preload=&#39;none&#39;) это событие сработает при начале воспроизведения.</p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">currentTime</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">duration</span>: <span class="hljs-built_in">number</span>;
}
</code></pre></li>
<li><p><strong><code>PlayerApi.Events.CurrentTrackChanged</code></strong> <a name="Events.CurrentTrackChanged"></a> - Смена текущего трека. <code>@experimental</code></p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">item</span>: { <span class="hljs-attr">id</span>?: <span class="hljs-built_in">string</span> }
}
</code></pre></li>
<li><p><strong><code>PlayerApi.Events.SizeChanged</code></strong> <a name="Events.SizeChanged"></a> - Размер плеера изменился. <code>@experimental</code></p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>;
}
</code></pre></li>
<li><p><strong><code>PlayerApi.Events.Play</code></strong> <a name="Events.Play"></a> - Запуск воспроизведения.</p>
<p>У события нет данных.</p>
</li>
<li><p><strong><code>PlayerApi.Events.Pause</code></strong> <a name="Events.Pause"></a> - Пауза.</p>
<p>У события нет данных.</p>
</li>
<li><p><strong><code>PlayerApi.Events.Ended</code></strong> <a name="Events.Ended"></a> - Окончание воспроизведения.</p>
<p>У события нет данных.</p>
</li>
<li><p><strong><code>PlayerApi.Events.TimeUpdate</code></strong> <a name="Events.TimeUpdate"></a> - Изменение текущего времени воспроизведения.</p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">currentTime</span>: <span class="hljs-built_in">number</span>;
}
</code></pre></li>
<li><p><strong><code>PlayerApi.Events.FullscreenChange</code></strong> <a name="Events.FullscreenChange"></a> - Изменение полноэкранного режима.</p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">isFullscreen</span>: <span class="hljs-built_in">boolean</span>;
}
</code></pre></li>
<li><p><strong><code>PlayerApi.Events.CallBookmark</code></strong> <a name="Events.CallBookmark"></a> - Нажатие на закладку. <code>@experimental</code></p>
<pre><code class="hljs language-ts">{
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">time</span>: <span class="hljs-built_in">number</span>;
}
</code></pre></li>
</ul>
</main>
    </div>
  </body>
</html>
