<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link
      rel="shortcut icon"
      href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown-light.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/github.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script src="../main.js"></script>
  </head>
  <body class="hidden">
    <div id="translateTest"></div>

    <div class="topbar">
      <div>v2.154.10</div>
      <div class="languages notranslate">
        <div class="lang" data-glang="ru">RU</div>
        <div class="lang" data-glang="en">EN</div>
      </div>
    </div>

    <div class="page markdown-body">
      <aside>
        <nav><h3 id="kinescope-player-version">Kinescope Player (v2.154.10)</h3>
<ul>
<li><a href="../index.html">Начало</a></li>
<li><a href="../embed/index.html">Встраивание плеера</a><ul>
<li><a href="../iframe/IframeRegular.html">Простое встраивание через &lt;iframe&gt;</a></li>
<li><a href="../iframe/IframeApi.html">Встраивание с помощью IFrame API (для разработчиков)</a><ul>
<li><a href="../iframe/IframePlayerFactory.html">Создание плеера</a></li>
<li><a href="../iframe/IframePlayerApi.html">Управление плеером</a></li>
<li><a href="../iframe/IframePlayerApiLoader.html">Загрузчик IFrame API и TypeScript типы</a><!-- - [Простое встраивание с помощью IFrame API без создания плеера](./iframe/IframePlayerFactory.auto.md) -->
  <!-- - [Widget (beta)](./widget.md) --></li>
</ul>
</li>
<li><a href="../elements/index.html">Пользовательские элементы (Custom Elements)</a><ul>
<li><a href="../elements/KinescopeIframePlayer.html">&lt;kinescope-iframe-player&gt;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="../optimization.html">Оптимизация, отложенная загрузка и автозапуск</a></li>
<li><a href="../playlists.html">Плейлисты</a></li>
<li><a href="../cta.html">CTA (beta)</a></li>
<li><a href="../ga.html">Google Analytics (beta)</a></li>
<li><a href="../CommonProblems.html">Возможные проблемы и их решения</a></li>
<li><a href="../CHANGELOG.html">Изменения</a></li>
<li><a href="../help.html"><strong>Помощь</strong></a></li>
</ul>
<!-- - [Поддерживаемые платформы](./SupportedPlatforms.md) -->
</nav>
      </aside>

      <div class="delimiter"></div>

      <main><h1 id="интеграция-с-kinescope-player-на-странице-плеера-внутри-iframe">Интеграция с Kinescope Player на странице плеера (внутри iframe)</h1>
<p>Для интеграции плеера со сторонним сервисом необходимо самостоятельно реализовать сценарий интеграции (на JavaScript).<br>Этот сценарий будет загружен на веб-странице плеера. Для управления плеером используйте <a href="./PlayerApi.html">Player API</a>.</p>
<blockquote>
<p>Сценарий будет встроен через элемент <code>script</code> с атрибутом defer или async. Это нужно учесть при работе с DOM в сценарии.</p>
</blockquote>
<p>Для использования <a href="./PlayerApi.html">Player API</a> необходимо реализовать следующую <strong>глобальную функцию</strong> JavaScript:</p>
<ul>
<li><code>onKinescopePlayerCreated(player: PlayerApi)</code> – эта функция будет вызываться автоматически каждый раз, когда будет создан новый плеер. Она должна быть объявлена до создания какого-либо плеера. В качестве параметра в функцию передается <a href="./PlayerApi.html">объект управления плеером</a>.</li>
</ul>
<h3 id="пример-3">Пример</h3>
<pre><code class="hljs language-js"><span class="hljs-comment">// 1. Эта функция будет вызвана автоматически при создании нового плеера.</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onKinescopePlayerCreated</span>(<span class="hljs-params">player</span>) {
  player
    <span class="hljs-comment">// 2. Этот обработчик будет вызван когда запустится воспроизведение.</span>
    <span class="hljs-comment">//    Плеер проиграет 5 сек. и затем должен остановиться.</span>
    .<span class="hljs-title function_">on</span>(player.<span class="hljs-property">Events</span>.<span class="hljs-property">Play</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        event.<span class="hljs-property">target</span>.<span class="hljs-title function_">pause</span>();
      }, <span class="hljs-number">5000</span>);
    });
}
</code></pre><h2 id="см-так-же-7">См. так же</h2>
<ul>
<li><a href="./PlayerApi.html">Управление плеером</a></li>
</ul>
</main>
    </div>
  </body>
</html>
