<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link
      rel="shortcut icon"
      href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../main.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown-light.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/github.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script src="../main.js"></script>
  </head>
  <body class="hidden">
    <div id="translateTest"></div>

    <div class="topbar">
      <div>v2.154.10</div>
      <div class="languages notranslate">
        <div class="lang" data-glang="ru">RU</div>
        <div class="lang" data-glang="en">EN</div>
      </div>
    </div>

    <div class="page markdown-body">
      <aside>
        <nav><h3 id="kinescope-player-version">Kinescope Player (v2.154.10)</h3>
<ul>
<li><a href="../index.html">Начало</a></li>
<li><a href="../embed/index.html">Встраивание плеера</a><ul>
<li><a href="../iframe/IframeRegular.html">Простое встраивание через &lt;iframe&gt;</a></li>
<li><a href="../iframe/IframeApi.html">Встраивание с помощью IFrame API (для разработчиков)</a><ul>
<li><a href="../iframe/IframePlayerFactory.html">Создание плеера</a></li>
<li><a href="../iframe/IframePlayerApi.html">Управление плеером</a></li>
<li><a href="../iframe/IframePlayerApiLoader.html">Загрузчик IFrame API и TypeScript типы</a><!-- - [Простое встраивание с помощью IFrame API без создания плеера](./iframe/IframePlayerFactory.auto.md) -->
  <!-- - [Widget (beta)](./widget.md) --></li>
</ul>
</li>
<li><a href="../elements/index.html">Пользовательские элементы (Custom Elements)</a><ul>
<li><a href="../elements/KinescopeIframePlayer.html">&lt;kinescope-iframe-player&gt;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="../optimization.html">Оптимизация, отложенная загрузка и автозапуск</a></li>
<li><a href="../playlists.html">Плейлисты</a></li>
<li><a href="../cta.html">CTA (beta)</a></li>
<li><a href="../ga.html">Google Analytics (beta)</a></li>
<li><a href="../CommonProblems.html">Возможные проблемы и их решения</a></li>
<li><a href="../CHANGELOG.html">Изменения</a></li>
<li><a href="../help.html"><strong>Помощь</strong></a></li>
</ul>
<!-- - [Поддерживаемые платформы](./SupportedPlatforms.md) -->
</nav>
      </aside>

      <div class="delimiter"></div>

      <main><h1 id="kinescope-iframe-player">&lt;kinescope-iframe-player&gt;</h1>
<p>Перед использованием элемента необходимо загрузить скрипт: <a href="https://player.kinescope.io/latest/elements/kinescope-iframe-player.js">https://player.kinescope.io/latest/elements/kinescope-iframe-player.js</a>.</p>
<p>Элемент принимает аттрибуты имена и значения которых совпадают с параметрами <a href="../iframe/IframeRegular.html">простого встраивания</a>, см. пример ниже.</p>
<p>Основной и обязательный атрибут <code>url</code> - урл на видео.<br>Атрибут <code>id</code> необходим если вы указываете настройки через <code>window.KinescopeIframePlayerConfig</code>, см. пример ниже.</p>
<h3 id="пример">Пример</h3>
<pre><code class="hljs language-html"><span class="hljs-comment">&lt;!-- Скрипт пользовательского элемента. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://player.kinescope.io/latest/elements/kinescope-iframe-player.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Настройки для плееров. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">KinescopeIframePlayerConfig</span> = {
    ...<span class="hljs-variable language_">window</span>.<span class="hljs-property">KinescopeIframePlayerConfig</span>,
    <span class="hljs-comment">// ID элемента к которому применяются настройки.</span>
    <span class="hljs-attr">myplayer</span>: {
      <span class="hljs-attr">ui</span>: { <span class="hljs-attr">playbackRateButton</span>: <span class="hljs-literal">true</span> },
    },
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Пользовательский элемент. --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">kinescope-iframe-player</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myplayer&quot;</span>
  <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;https://kinescope.io/123456789&quot;</span>
  <span class="hljs-attr">externalid</span>=<span class="hljs-string">&quot;12345&quot;</span>
  <span class="hljs-attr">autoplay</span>
  <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background-color: green&quot;</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">kinescope-iframe-player</span>&gt;</span>
</code></pre><p>Объект <code>window.KinescopeIframePlayerConfig</code> имеет структуру состоящую из ID элементов и <a href="../iframe/IframePlayerFactory.html#CreateOptions">настроек плеера</a> из IFrame API, за исключением полей <code>url</code>, <code>size</code>, <code>settings</code>. Например:</p>
<pre><code class="hljs language-ts"><span class="hljs-variable language_">window</span>.<span class="hljs-property">KinescopeIframePlayerConfig</span> = {
  <span class="hljs-comment">// `myplayer` - ID элемента к которому применяются настройки.</span>
  <span class="hljs-attr">myplayer</span>: {
    <span class="hljs-attr">behavior</span>: {...},
    <span class="hljs-attr">ui</span>: {...},
    <span class="hljs-attr">theme</span>: {...},
  },
};
</code></pre><p>При изменении следующих атрибутов плеер будет автоматически пересоздан:</p>
<ul>
<li><code>id</code></li>
<li><code>url</code></li>
<li><code>externalid</code></li>
</ul>
<h2 id="методы">Методы</h2>
<ul>
<li><p><strong><code>getInstance(): IframePlayerApi | undefined</code></strong> <a name="getInstance"></a></p>
<p><a href="../iframe/IframePlayerApi.html">Объект управления плеером</a>. <code>undefined</code> - плеер еще не создан.</p>
</li>
<li><p><strong><code>waitInstance(): Promise&lt;IframePlayerApi&gt;</code></strong> <a name="waitInstance"></a></p>
<p>Ожидание <a href="../iframe/IframePlayerApi.html">объекта управления плеером</a> в случае когда плеер еще не создан - находится в процессе создания.</p>
</li>
</ul>
<h2 id="события">События</h2>
<p>Подписаться на события и отписаться можно стандартным способом используя методы: <code>addEventListener</code>, <code>removeEventListener</code>.</p>
<p>Объект перечисления событий элемента содержится в свойстве <code>Events</code>.</p>
<p><strong>Описание событий</strong> смотрите в <a href="../iframe/IframePlayerApi.html#EventData">управлении плеером</a>.</p>
<ul>
<li><strong>Events.Created</strong> - дополнительное событие, которое происходит сразу после создания плеера. Подписаться на него нужно сразу после объявления элемента.</li>
</ul>
<p><strong>Данные события</strong> содержатся в объекте события в свойстве <code>detail</code>.</p>
<h3 id="пример-1">Пример:</h3>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">kinescope-iframe-player</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myplayer&quot;</span>
  <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;https://kinescope.io/123456789&quot;</span>
&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">kinescope-iframe-player</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
  <span class="hljs-keyword">const</span> playerEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;myplayer&#x27;</span>);
  playerEl.<span class="hljs-title function_">addEventListener</span>(playerEl.<span class="hljs-property">Events</span>.<span class="hljs-property">Created</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-comment">// Теперь `getInstance()` должен возвращать объект плеера.</span>
  });
  (<span class="hljs-title function_">async</span> () =&gt; {
    <span class="hljs-comment">// При создании плеера промис завершится и вернет объект плеера.</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-keyword">await</span> playerEl.<span class="hljs-title function_">waitInstance</span>();
    <span class="hljs-comment">// ...</span>
  })();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><h2 id="см-так-же-1">См. так же</h2>
<ul>
<li><a href="../iframe/IframeApi.html">Встраивание с помощью IFrame API</a></li>
</ul>
</main>
    </div>
  </body>
</html>
